#!/usr/bin/env bash
#MISE description="Tail logs from self-hosted services (optionally specify service name)"
set -euo pipefail

COMPOSE_FILE="metorial-platform/self-hosting/docker-compose.yml"

if [ ! -f "$COMPOSE_FILE" ]; then
    echo "✗ docker-compose.yml not found at: $COMPOSE_FILE"
    exit 1
fi

SERVICE="${1:-}"

if [ -n "$SERVICE" ]; then
    echo "━━━ Logs: $SERVICE ━━━"
    docker compose -f "$COMPOSE_FILE" logs -f "$SERVICE"
else
    echo "━━━ Logs: All Services ━━━"
    docker compose -f "$COMPOSE_FILE" logs -f
fi